title:  Introduction
author: Jabir Ali Ouassou
date:   2016-04-13


Dependencies
-------------
The only thing that is *really* necessary to compile the project, would be a
compiler that supports the Fortran standards from 1977 to 2008. But for your
own convenience, it is strongly recommended that you have these available:

 * [CMake](https://cmake.org/) (2.6+):
   a free, open-source, and cross-platform build system that automates the compilation details.
 * [GFortran](https://gcc.gnu.org/wiki/GFortran) (5.0+):
   a free, open-source, and cross-platform Fortran compiler from the GNU Compiler Collection.
 * [IFort](https://software.intel.com/en-us/fortran-compilers) (16.0+):
   a commercial Fortran compiler developed by Intel, with free licenses for 
   [students](https://software.intel.com/en-us/qualify-for-free-software/student) and
   [academics](https://software.intel.com/en-us/qualify-for-free-software/academicresearcher).

IFort generates much faster binaries than GFortran; for my simulation programs, we're
talking about a speedup of ~4x in benchmarks on an Intel Core i7 processor. I am
not really sure if this due to better vectorization, more aggressive inter-procedural
optimizations, or something else entirely. But the bottom line is that if you do have
access to an IFort licence, I strongly recommend using it. But if not, I *have* also 
tested the code extensively using only the free and open-source tools CMake and
GFortran, so having access to IFort should not be a necessity to use my programs.

Note that albeit slower, the binaries generated by GFortran can sometimes be more
stable than the ones generated by IFort; so if the programs exit with segmentation
faults, please send me a bug report, and try compiling with GFortran in the mean
time. Note also that the project *may* or *may not* compile using older versions
than GFortran 5.0 and IFort 16.0; I know that older versions of the code ran fine
using GFortran 4.9, but I haven't spent much time testing old compilers.

There are also some more optional dependencies:

 * [Gnuplot](http://www.gnuplot.info/) can be used to plot the results generated by my
   simulation programs, and simple Gnuplot scripts for visualizing the generated data 
   files should be provided as part of this project. But it should be straight-forward
   to import the generated data files to e.g. Matlab or R instead if you prefer that.
 * [FORD](https://github.com/cmacmackin/ford) can be used to autogenerate documentation
   for modern Fortran projects, including this one. This should be installed if you plan
   to modify the source code, and wish to automatically update documentation accordingly.


Compilation
------------
@NOTE
  These instructions should work for POSIX compliant operating systems with all 
  the above dependencies installed. This should include Linux/Unix/Mac systems,
  and possibly also Windows if you have Cygwin installed. If you use any other 
  platforms or compilers than this, you may have to compile the project manually.

After you have obtained and unpacked the source code, open a terminal, and change
directory to the top directory of the project. This should be the directory with
the files `configure` and `CMakeLists.txt`. To prepare for compilation, you should
then run one of the following commands, depending on whether you wish to compile 
with GFortran or IFort:

    ./configure --gfortran
    ./configure --ifort

Hopefully, the code that you have obtained should be stable and reliable; but if you
need to search for bugs, it can be quite useful to compile the project in debug mode.
This disables all optimizations, and turns on safety checks both at compile-time and
run-time. To compile the project in debug mode, run one of these commands instead:

    ./configure --gfortran-debug
    ./configure --ifort-debug

After configuration, change to the subdirectory 'build', and run 'make' to compile:

    cd build
    make

If the project compiles successfully, the executables should appear in the subdirectory
`bin` of the top directory. 

Note also that this documentation is autogenerated. If you modify the sources and wish
to update the documentation accordingly, then just install the documentation generator
[FORD](https://github.com/cmacmackin/ford), and run the following command to regenerate:

    ./configure --doc


Usage
-----
Add something here about invoking the programs.

### Unit tests
Before running any serious simulations, you may wish to run the unit tests.
From the top directory of the project, this can be done by invoking the
executable `test` in the subdirectory `bin`:

    ./bin/test

Except for the calibration procedure, all unit tests should return `SUCCESS`.

### Config file
This is described in more detail in... Insert link.

### Equilibrium properties
This program does something. Fill in details.

    ./bin/equilibrium

### Critical temperature
This program does something. Fill in details.

    ./bin/temperature

### Critical current
This program does something. Fill in details.

    ./bin/current

### Plotting results
All data files produced by the simulations are exported as numerical tables
in a simple tab-delimited text file, with the top row documenting the output
format. These results should be easy to import and plot in any common plotting
environment.

If you have [Gnuplot](http://www.gnuplot.info/) on your system, then you can
also reuse my existing plotting scripts to display the output data:

    ./bin/disp filename.dat
